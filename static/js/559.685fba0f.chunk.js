"use strict";(self.webpackChunkit_food=self.webpackChunkit_food||[]).push([[559],{2559:function(e,r,t){t.r(r),t.d(r,{default:function(){return z}});var n=t(9439),d=t(2791),i=t(7689),a=t(9434),_=t(5206),o={modal:"Order_modal__g0XoA",modal_unmount:"Order_modal_unmount__euzB6",orderContainer:"Order_orderContainer__N7itk",orderDetails:"Order_orderDetails__NYDpI",orderDetailsData:"Order_orderDetailsData__87RSr",orderDetailTitle:"Order_orderDetailTitle__98NhI",orderOption_wrapper:"Order_orderOption_wrapper__3H0vd",orderOption:"Order_orderOption__zjM-0",orderOption_dineIn:"Order_orderOption_dineIn__6Vu7H",orderOption_delivery:"Order_orderOption_delivery__-65Yv",orderOption_pickup:"Order_orderOption_pickup__mj9YC",orderOption_detail:"Order_orderOption_detail__VXA-r",orderOption_detail_isGrab:"Order_orderOption_detail_isGrab__SJ5vo",orderOption_bottom:"Order_orderOption_bottom__vOm8W",orderOption_total:"Order_orderOption_total__wjKGK",orderOption_note:"Order_orderOption_note__Ytz4M",orderOption_note_input:"Order_orderOption_note_input__WvqzO",order_payment:"Order_order_payment__ObtX6",order_payment_title:"Order_order_payment_title__SPO4W",order_payment_sub_title:"Order_order_payment_sub_title__+eL91",order_payment_sub_title_icon:"Order_order_payment_sub_title_icon__-UpER",order_payment_amount:"Order_order_payment_amount__cl4Gn",order_payment_method:"Order_order_payment_method__A+CtL",order_payment_method_wrapper:"Order_order_payment_method_wrapper__za+ZK",order_payment_method_btn:"Order_order_payment_method_btn__m9zDE",payment_button_active:"Order_payment_button_active__ObFCQ",order_payment_other_wrapper:"Order_order_payment_other_wrapper__WnQ6N",order_payment_other_btn:"Order_order_payment_other_btn__iQcgS",order_payment_done_btn:"Order_order_payment_done_btn__efvis",order_payment_delete_btn:"Order_order_payment_delete_btn__JEkjx",change_tip:"Order_change_tip__5eva0",change_tip_title:"Order_change_tip_title__UTyTl",change_tip_subTitle:"Order_change_tip_subTitle__iI0tt",change_tip_input:"Order_change_tip_input__wmm+G",change_tip_btn:"Order_change_tip_btn__UMbmz"},s=t(5282),c=t(4868),l=t(6089),p=t(554),u=t(9273),m=t(8820),h=t(2343),O=t(3612),x=t(3414),j="OrderCardRender_orderOption_detail_change__Avr9X",b="OrderCardRender_orderOption_detail_sup_change__GYSiG",y="OrderCardRender_orderOption_detail_sub_change__GLsxE",f="OrderCardRender_orderOption_detail_img__xp9tS",N="OrderCardRender_orderOption_card__DE7+U",g="OrderCardRender_orderOption_detail_food_name__5bC3W",v="OrderCardRender_orderOption_detail_food_price__wMQne",C="OrderCardRender_orderOption_detail_food_price_cost__nfcA-",k="OrderCardRender_orderOption_detail_change_btn__6-IaI",D="OrderCardRender_orderOption_detail_change_icon__-lB0T",E="OrderCardRender_orderOption_detail_quantity__FfZcv",T="OrderCardRender_orderOption_detail_change_icon_plus__Aj8nW",w="OrderCardRender_orderOption_detail_change_icon_minus__80fbS",I=t(4812),R=t(184),S=function(e){var r=e.props,t=r._id,n=r.preview,d=r.title,i=r.price,_=r.quantity,o=(0,a.I0)();return(0,R.jsxs)("li",{className:N,children:[(0,R.jsx)("img",{className:f,src:n,alt:d}),(0,R.jsx)("div",{className:j,children:(0,R.jsxs)("div",{children:[(0,R.jsx)("p",{className:g,children:d}),(0,R.jsxs)("div",{className:b,children:[(0,R.jsxs)("div",{className:y,children:[(0,R.jsx)("p",{className:v,children:"Price"}),(0,R.jsxs)("p",{className:C,children:["$ ",i]})]}),(0,R.jsxs)("div",{className:y,children:[(0,R.jsx)("p",{className:v,children:"Quantity"}),(0,R.jsx)("p",{className:C,children:(0,R.jsxs)("span",{children:[" ",_]})})]}),(0,R.jsxs)("div",{className:y,children:[(0,R.jsx)("p",{className:v,children:"Total"}),(0,R.jsxs)("p",{className:C,children:["$ ",(_*i).toFixed(2)]})]})]})]})}),(0,R.jsxs)("div",{className:j,children:[(0,R.jsx)("button",{onClick:function(){return o((0,p.K1)(t))},className:k,children:(0,R.jsx)(m.n6z,{className:"".concat(D," ").concat(w)})}),(0,R.jsx)("span",{className:E,children:(0,R.jsx)(I.ZP,{height:18,width:18,duration:1,play:!0,numbers:"".concat(_)})}),(0,R.jsx)("button",{disabled:_>=9,onClick:function(){return o((0,p.hg)(t))},className:k,children:(0,R.jsx)(m.OzW,{className:"".concat(D," ").concat(T)})})]})]})},G=t(3970),z=function(){var e=(0,d.useState)("cash"),r=(0,n.Z)(e,2),t=r[0],j=r[1],b=(0,d.useState)(5),y=(0,n.Z)(b,2),f=y[0],N=y[1],g=(0,d.useState)(!1),v=(0,n.Z)(g,2),C=v[0],k=v[1],D=(0,d.useState)(null),E=(0,n.Z)(D,2),T=E[0],w=E[1],I=(0,d.useState)(null),z=(0,n.Z)(I,2),A=z[0],Z=z[1],F=(0,d.useState)(""),W=(0,n.Z)(F,2),P=W[0],H=W[1],L=(0,d.useState)(null),Y=(0,n.Z)(L,2),q=Y[0],K=Y[1],U=(0,s.a)(),M=U.user,Q=U.isLoggedIn,V=(0,c.A)(),$=V.lastOrder,B=V.orderLoading,X=V.orderError,J=$||{},ee=J.orderNumber,re=J.orderedDish,te=J.note,ne=J.option,de=J.createdAt,ie=J._id,ae=M.phone,_e=M.email,oe=(0,i.UO)().orderId,se=(0,a.I0)(),ce=(0,i.s0)();(0,d.useEffect)((function(){0===(null===re||void 0===re?void 0:re.length)&&(se((0,l.wH)({_id:ie})),w("Order successfully deleted!"))}),[ie,se,re]),(0,d.useEffect)((function(){K(ne),H(te)}),[te,ne]),(0,d.useEffect)((function(){Z((function(e){return e!==oe&&oe}))}),[oe]),(0,d.useEffect)((function(){ae&&!Q&&"last"!==oe&&se((0,l.g8)({phone:ae,_id:oe}))}),[A,se,Q,oe,ae]),(0,d.useEffect)((function(){"last"!==oe||$||ce("/home")}),[$,ce,oe]),(0,d.useEffect)((function(){Q&&"last"!==oe&&se((0,l.HG)({orderId:oe}))}),[se,Q,oe,ae]),(0,d.useEffect)((function(){T&&!B&&(_.Am.success(T,h.g),setTimeout((function(){ce("/home"),se((0,u.Ec)())}),10))}),[se,ce,B,T]),(0,d.useEffect)((function(){X&&(setTimeout((function(){ce("/home")}),10),_.Am.error(X,h.L),se((0,p.WV)(null)))}),[se,ce,X]);var le=null===re||void 0===re?void 0:re.reduce((function(e,r){var t=r.price,n=r.quantity;return e+Number(t*n)}),0),pe=null===re||void 0===re?void 0:re.map((function(e){return{id:e._id,quantity:e.quantity}})),ue=function(e){j(e.currentTarget.id)},me=function(){return k((function(e){return!e}))},he=function(e){K(e)},Oe=Q&&(.03*le*f/10*100).toFixed(0);return(0,R.jsxs)("section",{className:o.orderContainer,children:[$&&(0,R.jsxs)(R.Fragment,{children:[(0,R.jsxs)("div",{className:o.orderDetails,children:[(0,R.jsxs)("div",{className:o.orderDetailsData,children:[(0,R.jsx)("h1",{className:o.orderDetailTitle,children:"Order details"}),(0,R.jsxs)("div",{className:o.orderOption_wrapper,children:[(0,R.jsx)("button",{id:"dinein",onClick:function(e){return he(e.target.id)},className:"".concat(o.orderOption," ").concat("dinein"===q&&o.orderOption_dineIn),type:"button",children:"DINE IN"}),(0,R.jsx)("button",{id:"delivery",onClick:function(e){return he(e.target.id)},className:"".concat(o.orderOption," ").concat("delivery"===q&&o.orderOption_delivery),type:"button",children:"DELIVERY"}),(0,R.jsx)("button",{id:"pickup",onClick:function(e){return he(e.target.id)},className:"".concat(o.orderOption," ").concat("pickup"===q&&o.orderOption_pickup),type:"button",children:"PICKUP"})]})]}),(0,R.jsx)(G.Z,{hideScrollbars:!1,horizontal:!1,component:"ul",className:o.orderOption_detail,draggingClassName:o.orderOption_detail_isGrab,children:re.map((function(e){return(0,R.jsx)(S,{props:e},e._id||e.id)}))}),(0,R.jsxs)("div",{className:o.orderOption_bottom,children:[(0,R.jsxs)("div",{className:o.orderOption_note,children:[(0,R.jsx)("p",{children:"Note"}),(0,R.jsx)("textarea",{className:o.orderOption_note_input,onChange:function(e){return P.length>100?H((function(e){return e.slice(0,e.length-1)})):H(e.target.value)},value:P})]}),(0,R.jsxs)("p",{className:o.orderOption_total,children:["Total: ",(0,R.jsxs)("span",{children:["$ ",le.toFixed(2)]})," "]})]})]}),(0,R.jsxs)("div",{className:o.order_payment,children:[(0,R.jsxs)("div",{className:o.order_payment_title,children:[(0,R.jsx)("h1",{children:"Order payment"}),(0,R.jsxs)("div",{className:o.order_payment_sub_title,children:[(0,R.jsxs)("span",{children:[(0,R.jsx)(m.xHR,{className:o.order_payment_sub_title_icon}),(0,R.jsx)("p",{children:de.slice(0,10)})]}),(0,R.jsxs)("span",{children:[(0,R.jsx)(m.iBz,{className:o.order_payment_sub_title_icon}),(0,R.jsx)("p",{children:ee})]})]})]}),(0,R.jsxs)("div",{className:o.order_payment_amount,children:[(0,R.jsxs)("p",{className:o.order_payment_amount_tip,children:["Tip amount ",f,"%",(0,R.jsxs)("span",{children:["$ ",(le/100*f).toFixed(2)]})]}),Q&&(0,R.jsxs)("p",{children:["Gift Coins",(0,R.jsxs)("span",{children:[" ",Oe]})]}),(0,R.jsxs)("p",{children:["Total amount",(0,R.jsxs)("span",{children:["$ ",(le+le/100*f).toFixed(2)]})]})]}),(0,R.jsxs)("div",{className:o.order_payment_method,children:[(0,R.jsx)("p",{children:"Payment method"}),(0,R.jsxs)("ul",{className:o.order_payment_method_wrapper,children:[(0,R.jsx)("li",{children:(0,R.jsx)("button",{id:"cash",onClick:ue,className:"".concat(o.order_payment_method_btn," ").concat("cash"===t&&o.payment_button_active),children:(0,R.jsx)(O.CJ,{})})}),(0,R.jsx)("li",{children:(0,R.jsx)("button",{id:"mastercard",onClick:ue,className:"".concat(o.order_payment_method_btn," ").concat("mastercard"===t&&o.payment_button_active),children:(0,R.jsx)(O.NN,{})})}),(0,R.jsx)("li",{children:(0,R.jsx)("button",{id:"visa",onClick:ue,className:"".concat(o.order_payment_method_btn," ").concat("visa"===t&&o.payment_button_active),children:(0,R.jsx)(O.aB,{})})}),(0,R.jsx)("li",{children:(0,R.jsx)("button",{id:"gift",onClick:ue,className:"".concat(o.order_payment_method_btn," ").concat("gift"===t&&o.payment_button_active),children:(0,R.jsx)(O.nc,{})})})]}),(0,R.jsxs)("ul",{className:o.order_payment_other_wrapper,children:[(0,R.jsx)("li",{children:(0,R.jsxs)("button",{onClick:function(){return k((function(e){return!e}))},className:o.order_payment_other_btn,children:[(0,R.jsx)(m.Gig,{}),(0,R.jsx)("p",{children:"Tip amount"})]})}),(0,R.jsx)("li",{children:(0,R.jsxs)("button",{onClick:ue,className:o.order_payment_other_btn,children:[(0,R.jsx)(m.Dme,{}),(0,R.jsx)("p",{children:"Email"})]})}),(0,R.jsx)("li",{children:(0,R.jsxs)("button",{onClick:function(){se((0,l.wH)({_id:ie})),w("Order successfully deleted!")},className:"".concat(o.order_payment_other_btn," ").concat(o.order_payment_delete_btn),children:[(0,R.jsx)(m.VPh,{}),(0,R.jsx)("p",{children:"Delete order"})]})}),(0,R.jsx)("li",{children:(0,R.jsxs)("button",{onClick:function(){se((0,l.Nc)({_id:$._id,paymentMethod:t,tipAmount:f,email:_e,orderedDish:pe,note:P,option:q})),w("Thank you! Order successfully confirmed! We will contact you soon ")},className:"".concat(o.order_payment_other_btn," ").concat(o.order_payment_done_btn),children:[(0,R.jsx)(m.bzc,{}),(0,R.jsx)("p",{children:"Done"})]})})]})]})]})]}),C&&(0,R.jsx)(x.u,{modalToggle:me,styles:o,children:(0,R.jsxs)("div",{className:o.change_tip,children:[(0,R.jsx)("h1",{className:o.change_tip_title,children:"TIP CHANGE"}),(0,R.jsx)("p",{className:o.change_tip_subTitle,children:"You can change tip amount"}),(0,R.jsx)("form",{className:o.signIn_form,children:(0,R.jsx)("label",{htmlFor:"tipChange",children:(0,R.jsx)("input",{className:o.change_tip_input,name:"tipChange",type:"number",value:f,onChange:function(e){return N(e.target.value>0&&e.target.value<31?e.target.value:0)}})})}),(0,R.jsx)("button",{className:o.change_tip_btn,onClick:me,id:"tipChange",children:"OK"})]})})]})}}}]);
//# sourceMappingURL=559.685fba0f.chunk.js.map