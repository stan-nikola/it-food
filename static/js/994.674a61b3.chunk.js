"use strict";(self.webpackChunkit_food=self.webpackChunkit_food||[]).push([[994],{1994:function(e,t,i){i.r(t),i.d(t,{default:function(){return q}});var r=i(7689),n="Dashboard_container__sVW0F",o=i(9439),a=i(1087),d="LeftSideBar_container__c0lws",_="LeftSideBar_wrapper__+r0iV",s="LeftSideBar_listItem__0rtZB",c="LeftSideBar_link__TH7fQ",l="LeftSideBar_link_active__MRhcN",p="LeftSideBar_favInfo__gnfLK",h=i(2153),u=i(4217),O=i(6856),m=i(3612),g=i(9434),x=i(2791),j=i(5282),f=i(8761),N=i(3414),v=i(184),S=function(){var e=(0,g.v9)(u.rK),t=(0,x.useState)(!1),i=(0,o.Z)(t,2),r=i[0],n=i[1],S=(0,x.useState)(!1),b=(0,o.Z)(S,2),B=b[0],y=b[1],R=(0,j.a)().isLoggedIn,C=function(){n((function(e){return!e}))};return(0,v.jsxs)("section",{className:d,children:[(0,v.jsxs)("ul",{className:_,children:[(0,v.jsx)("li",{className:s,children:(0,v.jsxs)(a.OL,{to:"main?category=all",className:function(e){var t=e.isActive;return" ".concat(c," ").concat(t&&l," ")},children:[(0,v.jsx)(m.VS,{}),(0,v.jsx)("p",{children:"Main"})]})}),(0,v.jsx)("li",{className:s,children:(0,v.jsxs)(a.OL,{to:"meat?category=all",className:function(e){var t=e.isActive;return" ".concat(c," ").concat(t&&l," ")},children:[(0,v.jsx)(m.cV,{}),(0,v.jsx)("p",{children:"Meat"})]})}),(0,v.jsx)("li",{className:s,children:(0,v.jsxs)(a.OL,{to:"dessert?category=all",className:function(e){var t=e.isActive;return" ".concat(c," ").concat(t&&l," ")},children:[(0,v.jsx)(m.IV,{}),(0,v.jsx)("p",{children:"Dessert"})]})}),(0,v.jsxs)("li",{className:s,onMouseOver:C,onMouseOut:C,children:[R?(0,v.jsxs)(a.OL,{to:"favorite",className:function(e){var t=e.isActive;return" ".concat(c," ").concat(t&&l," ")},children:[(0,v.jsx)(O.iqB,{}),(0,v.jsx)("p",{children:"Favorite"})]}):(0,v.jsxs)("button",{onClick:function(){return y((function(e){return!e}))},className:c,type:"button",children:[(0,v.jsx)(O.iqB,{}),(0,v.jsx)("p",{children:"Favorite"})]}),r&&!e&&(0,v.jsx)("p",{className:p,children:"To review your Favorite dishes you must SIGN UP first!"})]})]}),B&&(0,v.jsx)(N.u,{modalToggle:function(){y(!1)},styles:h.Z,children:(0,v.jsx)(f.WS,{})})]})},b=i(1413),B=i(3433),y=i(4812),R=i(3239),C={modal:"RightSideBar_modal__6sLsM",modal_unmount:"RightSideBar_modal_unmount__oZE9N",container:"RightSideBar_container__5bVE0",orderOption:"RightSideBar_orderOption__thM2f",orderOption_list:"RightSideBar_orderOption_list__dazE5",orderOption_item:"RightSideBar_orderOption_item__NUUO-",orderOption_button:"RightSideBar_orderOption_button__W5C2Z",orderOption_button_active:"RightSideBar_orderOption_button_active__mXqK+",orderOption_text:"RightSideBar_orderOption_text__Elb0u",orderOption_user:"RightSideBar_orderOption_user__cOzCL",orderOption_userAvatar:"RightSideBar_orderOption_userAvatar__HcFt-",orderOption_userName:"RightSideBar_orderOption_userName__TKyTL",orderOption_gift:"RightSideBar_orderOption_gift__jeACX",orderOption_name:"RightSideBar_orderOption_name__dmLCC",orderOption_phone:"RightSideBar_orderOption_phone__1+yR8",orderOption_phone_input:"RightSideBar_orderOption_phone_input__+vGzh",orderOption_phone_flag:"RightSideBar_orderOption_phone_flag__Rg4mV",orderOption_addNote_btn:"RightSideBar_orderOption_addNote_btn__7KuYt",orderOption_pay_btn:"RightSideBar_orderOption_pay_btn__ggzqh",orderOption_placeholder:"RightSideBar_orderOption_placeholder__+kZC5",orderOption_detail:"RightSideBar_orderOption_detail__542C9",orderOption_detail_isGrab:"RightSideBar_orderOption_detail_isGrab__AIaB+",orderOption_detail_img:"RightSideBar_orderOption_detail_img__FA6cx",orderOption_card:"RightSideBar_orderOption_card__-BNZ2",orderOption_detail_food_name:"RightSideBar_orderOption_detail_food_name__0W9LF",orderOption_detail_food_price:"RightSideBar_orderOption_detail_food_price__w9Jcx",orderOption_detail_food_price_cost:"RightSideBar_orderOption_detail_food_price_cost__nNs-8",orderOption_detail_change:"RightSideBar_orderOption_detail_change__yhtCH",orderOption_detail_sup_change:"RightSideBar_orderOption_detail_sup_change__iwJ16",orderOption_detail_sub_change:"RightSideBar_orderOption_detail_sub_change__JtvJA",orderOption_detail_change_btn:"RightSideBar_orderOption_detail_change_btn__obSca",orderOption_detail_change_icon:"RightSideBar_orderOption_detail_change_icon__roGox",orderOption_detail_quantity:"RightSideBar_orderOption_detail_quantity__FsJvX",orderOption_detail_change_icon_plus:"RightSideBar_orderOption_detail_change_icon_plus__pQ2OV",orderOption_detail_change_icon_minus:"RightSideBar_orderOption_detail_change_icon_minus__T47WU",orderOption_pay:"RightSideBar_orderOption_pay__clW00",orderOption_pay_Text:"RightSideBar_orderOption_pay_Text__iALrd",pay_text:"RightSideBar_pay_text__yu7vy",pay_textPrice:"RightSideBar_pay_textPrice__Ay475",pay_btn:"RightSideBar_pay_btn__SbDB2",add_note:"RightSideBar_add_note__VQvAG",add_note_title:"RightSideBar_add_note_title__8Lehv",add_note_subTitle:"RightSideBar_add_note_subTitle__BCVWy",add_note_subTitle_field:"RightSideBar_add_note_subTitle_field__dYO9d",add_note_form_error:"RightSideBar_add_note_form_error__s0t1S",add_note_btn:"RightSideBar_add_note_btn__ePJyw"},L=i(5737),Z=i.n(L),k=i(8820),A=i(4572),T=i(4868),F=i(554),w=i(6089),I=i(3541),V=i(3970),D=function(){var e=(0,x.useState)("dinein"),t=(0,o.Z)(e,2),i=t[0],n=t[1],a=(0,x.useState)(""),d=(0,o.Z)(a,2),_=d[0],s=d[1],c=(0,x.useState)(""),l=(0,o.Z)(c,2),p=l[0],h=l[1],u=(0,x.useState)(""),O=(0,o.Z)(u,2),m=O[0],f=O[1],S=(0,x.useState)(!1),L=(0,o.Z)(S,2),D=L[0],q=L[1],G=(0,r.s0)(),P=(0,g.I0)(),W=(0,j.a)(),M=W.isLoggedIn,z=W.user,E=W.isRefreshing,J=z.avatarUrl,K=z.name,U=z.giftCoin,Y=(0,A.o)().dish,H=(0,T.A)(),Q=H.orderedDish,X=H.lastOrder,$=H.orderLoading,ee=H.isOrderAdded,te=Y.main,ie=Y.meat,re=Y.dessert,ne=Q.map((function(e){return e.id}));(0,x.useEffect)((function(){ee&&G("/order/".concat(null===X||void 0===X?void 0:X._id))}),[ee,null===X||void 0===X?void 0:X._id,G]);var oe=(0,x.useMemo)((function(){return[].concat((0,B.Z)(te),(0,B.Z)(ie),(0,B.Z)(re)).filter((function(e){return ne.includes(e._id)})).map((function(e){return(0,b.Z)((0,b.Z)({},e),Q.find((function(t){return t.id===e._id})))}))}),[re,ne,te,ie,Q]),ae=oe.reduce((function(e,t){var i=t.price,r=t.quantity;return e+Number(i)*r}),0).toFixed(2),de=function(e){n(e.target.value)},_e=function(){q((function(e){return!e}))};return(0,v.jsxs)("section",{className:C.container,children:[(0,v.jsxs)("div",{className:C.orderOption,children:[(0,v.jsx)("p",{className:C.orderOption_text,children:"Customer information"}),M||E?(0,v.jsx)(v.Fragment,{children:E?(0,v.jsx)(R.Z,{}):(0,v.jsxs)("div",{className:C.orderOption_user,children:[(0,v.jsx)("img",{className:C.orderOption_userAvatar,src:J,alt:"user avatar"}),(0,v.jsxs)("div",{children:[(0,v.jsx)("p",{className:C.orderOption_userName,children:K}),(0,v.jsxs)("p",{className:C.orderOption_gift,children:["Gift Coins: ",U]})]})]})}):(0,v.jsxs)("form",{children:[(0,v.jsx)("input",{placeholder:"Customer name",className:C.orderOption_name,type:"text",name:"customerName",onChange:function(e){return s(e.target.value)},value:_}),(0,v.jsx)(Z(),{className:C.orderOption_phone,inputClass:C.orderOption_phone_input,buttonClass:C.orderOption_phone_flag,isValid:function(e){return!(e.length<12)||void 0},type:"phone",country:"ua",value:p,onChange:function(e){return h(e)}})]}),(0,v.jsxs)("ul",{className:C.orderOption_list,children:[(0,v.jsx)("li",{className:C.orderOption_item,children:(0,v.jsx)("button",{onClick:de,className:"".concat(C.orderOption_button," ").concat("dinein"===i&&C.orderOption_button_active),value:"dinein",children:"Dine In"})}),(0,v.jsx)("li",{className:C.orderOption_item,children:(0,v.jsx)("button",{onClick:de,className:"".concat(C.orderOption_button," ").concat("delivery"===i&&C.orderOption_button_active),value:"delivery",children:"Delivery"})}),(0,v.jsx)("li",{className:C.orderOption_item,children:(0,v.jsx)("button",{onClick:de,className:"".concat(C.orderOption_button," ").concat("pickup"===i&&C.orderOption_button_active),value:"pickup",children:"Pickup"})})]}),(0,v.jsx)("button",{onClick:_e,className:C.orderOption_addNote_btn,type:"button",children:"Add note"})]}),oe.length>0?(0,v.jsxs)(V.Z,{hideScrollbars:!1,horizontal:!1,component:"ul",className:C.orderOption_detail,draggingClassName:C.orderOption_detail_isGrab,children:[(0,v.jsx)("li",{children:(0,v.jsx)("p",{className:C.orderOption_text,children:"Orders details"})}),(0,v.jsx)(v.Fragment,{children:oe.map((function(e){var t=e._id,i=e.preview,r=e.title,n=e.price,o=e.quantity;return(0,v.jsxs)("li",{className:C.orderOption_card,children:[(0,v.jsx)("img",{className:C.orderOption_detail_img,src:i,alt:r}),(0,v.jsx)("div",{className:C.orderOption_detail_change,children:(0,v.jsxs)("div",{children:[(0,v.jsx)("p",{className:C.orderOption_detail_food_name,children:r.slice(0,26)}),(0,v.jsxs)("div",{className:C.orderOption_detail_sup_change,children:[(0,v.jsxs)("div",{className:C.orderOption_detail_sub_change,children:[(0,v.jsx)("p",{className:C.orderOption_detail_food_price,children:"Price"}),(0,v.jsxs)("p",{className:C.orderOption_detail_food_price_cost,children:["$ ",(o*n).toFixed(2)]})]}),(0,v.jsxs)("div",{className:C.orderOption_detail_change,children:[(0,v.jsx)("button",{onClick:function(){return P((0,F.f0)(t))},className:C.orderOption_detail_change_btn,children:(0,v.jsx)(k.n6z,{className:"".concat(C.orderOption_detail_change_icon," ").concat(C.orderOption_detail_change_icon_minus)})}),(0,v.jsx)("span",{className:C.orderOption_detail_quantity,children:(0,v.jsx)(y.ZP,{height:18,width:18,duration:1,play:!0,numbers:"".concat(o)})}),(0,v.jsx)("button",{disabled:o>=9,onClick:function(){return P((0,F.lB)(t))},className:C.orderOption_detail_change_btn,children:(0,v.jsx)(k.OzW,{className:"".concat(C.orderOption_detail_change_icon," ").concat(C.orderOption_detail_change_icon_plus)})})]})]})]})})]},t)}))})]}):(0,v.jsx)("p",{className:C.orderOption_placeholder,children:"To order a dish, click the Order Now button"}),(0,v.jsxs)("ul",{className:C.orderOption_pay,children:[(0,v.jsxs)("li",{className:C.orderOption_pay_Text,children:[(0,v.jsx)("p",{className:C.pay_text,children:"Total"}),(0,v.jsxs)("p",{className:"".concat(C.pay_text," ").concat(C.pay_textPrice),children:["$ ",ae]})]}),(0,v.jsx)("li",{children:(0,v.jsx)("button",{type:"button",disabled:$||0===oe.length||!M&&(_.length<3||p.length<12),className:"".concat(C.orderOption_pay_btn," ").concat(C.pay_btn),onClick:function(){P((0,w.fS)({customerName:M?"":_,note:m,option:i,orderedDish:Q,phone:M?"":p})),!M&&P((0,I._)(p))},children:$?"LOADING":"PAY NOW"})})]}),D&&(0,v.jsx)(N.u,{modalToggle:_e,styles:C,children:(0,v.jsxs)("div",{className:C.add_note,children:[(0,v.jsx)("h1",{className:C.add_note_title,children:"NOTE"}),(0,v.jsx)("p",{className:C.add_note_subTitle,children:"You can add note to your order"}),(0,v.jsx)("form",{className:C.signIn_form,children:(0,v.jsxs)("label",{htmlFor:"note",children:[(0,v.jsx)("textarea",{className:C.add_note_subTitle_field,placeholder:"add you note...",id:"note",name:"note",type:"text",value:m,onChange:function(e){return f(e.target.value)}}),m.length>100&&(0,v.jsx)("p",{className:C.add_note_form_error,children:"Note must not exceed 100 characters"})]})}),(0,v.jsx)("button",{disabled:m.length>100,className:C.add_note_btn,onClick:_e,id:"addNote",children:"ADD NOTE"})]})})]})},q=function(){return(0,v.jsxs)("div",{className:n,children:[(0,v.jsx)(S,{}),(0,v.jsx)(r.j3,{}),(0,v.jsx)(D,{})]})}}}]);
//# sourceMappingURL=994.674a61b3.chunk.js.map